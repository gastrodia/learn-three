<!doctype html>
<html class="h-screen w-screen overflow-hidden" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body class="m-0 overflow-hidden h-full w-full flex items-center justify-center">
<script id="vertex-shader" type="x-shader/x-vertex">
    attribute vec4 onePosition;
    void main() {
        gl_Position = onePosition;
    }

</script>
<script id="fragment-shader" type="x-shader/x-vertex">
    precision lowp float;
    uniform vec3 metaballs[2];
    void main() {
        float x = gl_FragCoord.x;
        float y = gl_FragCoord.y;
        float v = 0.0;

        for (int i = 0; i < 2; i++)
        {
            vec3 item = metaballs[i];
            float dx = item.x - x;
            float dy = item.y - y;

            // 半径？
            float r = item.z;
            v += r * r / (dx * dx + dy * dy);
        }

        if (v > 1.0)
        {
            gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
        }
        else
        {
            discard;
        }
    }

</script>
<script type="module" src="./script.js"></script>
</body>
</html>
