import"./main-ef7dcc1b.js";import{as as B,E as M,a8 as E,ac as L,C as b,a9 as m,aa as x,ab as p,S as C,b as y,A as D,f as G,W as S}from"./d-three.module-93d44c10.js";import{O as F}from"./d-OrbitControls-de4c2979.js";class U{#t=0;#e=new B;constructor(n=0,s=0,t=""){this.num=n,this.range=s,this.particle=null,this.texture=t,this.texturesMaps=[],this.position=null,this.gen()}gen(){const{num:n,range:s,texture:t}=this,e=new M,o=new E({size:6,transparent:!0,opacity:.6,depthWrite:!1,vertexColors:!0,map:this.#e.load(t),blending:L}),i=[],a=[];for(let r=0;r<n;r++){const A=new b,h={h:0,s:0,l:0};A.getHSL(h),A.setHSL(h.h,h.s,h.l*Math.random()),a.push(A.r,A.g,A.b),i.push(p.randFloatSpread(s*2),p.randFloatSpread(s*2),p.randFloatSpread(s*2))}this.position=new m(i,3),e.setAttribute("position",this.position),e.setAttribute("color",new m(a,3)),this.particle=new x(e,o)}snowing(n=0,s=0){if(this.#t+=1,s>0){if(this.#t<s*60)return;this.#t=0}const{position:t,range:e}=this;for(let o=0;o<t.count;o++){let i=t.getX(o),a=t.getY(o),r=t.getZ(o);i-=n,a-=n,r-=n,i<-e&&(i=e),a<-e&&(a=e),r<-e&&(r=e),t.setX(o,i),t.setY(o,a),t.setZ(o,r)}t.needsUpdate=!0}}const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABcVBMVEUAAAD////+/v4BAQHIyMghISECAgJ0dHR6enre3t4EBAQDAwPX19fi4uKmpqaAgIDQ0NA7OzsGBgYRERG1tbWVlZXV1dVzc3OCgoJmZmb39/cWFhZlZWU/Pz+xsbGFhYWOjo6KiopsbGx7e3uYmJhgYGCNjY0PDw8tLS0oKChbW1txcXEXFxfExMTS0tL9/f3s7OyoqKirq6va2tpNTU3t7e1/f38FBQWtra1MTExFRUWjo6MjIyNUVFTMzMzJycltbW3h4eEeHh5CQkLKysp+fn53d3cyMjLl5eX5+fm+vr4vLy/R0dELCwvY2NgJCQlfX19paWk5OTkAAAD///8BAQECAgIMDAwmJib+/v7f399qampXV1cODg79/f3Nzc3AwMBra2u6urqwsLAGBgb09PSKiooWFhYZGRnExMQ3NzfX19eampqQkJBkZGSOjo7o6OhoaGgjIyOcnJwEBAT6+vp5eXni4uJmZmYDAwNdXV0Lv2DMAAAAU3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/kc3SeAAAAFISURBVHhetZPFkuswFET72g4zDDMzMzPje5KDMMzM8PXj8caJ7UxWOVp0laoXqqN7URimkj/B1FaeLEJBBmRdQXuU/Jv1DUwhoj0yG5sN8PYANRUwx1JahepyYKTTxIPoUuLugZX4WPLt1OhBRus50CYxyZ+iLuCyDBGdh+BxLVB3VklcAtY+miDrClY26m70cBJ4GM3+NEQTDy1EcaIMkdvoIdreEbt4fuRcEOKcH6Rjlu5ojoclcoR7iQQFoj4i6qcBZCGqMag01DM0rF7meHBaGbtKJDhRhvMX9uoc+9LPw/f4BCa5QHxq2jNj/E2L9AlgltMcn0dw4clQWAwxK7wlhwKOlgGcrEA2eli1I7UOthFyQQ6YzMP1DWO3m2D3yZyh1bBvAds+YGd3Dxo6F459AP/+Q0M3cu+Bv/dCLP5eGLPw8hbkB8nyeaUUhyruAAAAAElFTkSuQmCC",{innerWidth:v,innerHeight:g}=window,c=new C,d=new y(45,v/g,.1,1e3);d.position.set(0,0,160);d.lookAt(c.position);const Q=new D(6710886);c.add(Q);const u=new G(16777215);u.castShadow=!0;u.position.set(-50,80,50);c.add(u);const w=new U(1e4,100,P);c.add(w.particle);const l=new S({antialias:!0});l.setSize(v,g);l.shadowMap.enabled=!0;document.body.appendChild(l.domElement);new F(d,l.domElement);const f=()=>{w.snowing(.3,.03),requestAnimationFrame(f),l.render(c,d)};f();
