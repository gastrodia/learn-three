import"./main-ef7dcc1b.js";import{E as K,X as P,a9 as C,ba as O,S as B,b as D,A as R,f as U,M as X,v,a as g,W as J}from"./d-three.module-93d44c10.js";import{O as N}from"./d-OrbitControls-de4c2979.js";import{i as Q}from"./d-dat.gui.module-dd30c9f2.js";class G extends K{constructor(t=(e,n,c)=>c.set(e,n,Math.cos(e)*Math.sin(n)),a=8,s=8){super(),this.type="ParametricGeometry",this.parameters={func:t,slices:a,stacks:s};const e=[],n=[],c=[],i=[],M=1e-5,d=new P,h=new P,m=new P,u=new P,x=new P,w=a+1;for(let l=0;l<=s;l++){const r=l/s;for(let b=0;b<=a;b++){const p=b/a;t(p,r,h),n.push(h.x,h.y,h.z),p-M>=0?(t(p-M,r,m),u.subVectors(h,m)):(t(p+M,r,m),u.subVectors(m,h)),r-M>=0?(t(p,r-M,m),x.subVectors(h,m)):(t(p,r+M,m),x.subVectors(m,h)),d.crossVectors(u,x).normalize(),c.push(d.x,d.y,d.z),i.push(p,r)}}for(let l=0;l<s;l++)for(let r=0;r<a;r++){const b=l*w+r,p=l*w+r+1,z=(l+1)*w+r+1,I=(l+1)*w+r;e.push(b,p,I),e.push(p,z,I)}this.setIndex(e),this.setAttribute("position",new C(n,3)),this.setAttribute("normal",new C(c,3)),this.setAttribute("uv",new C(i,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}const y={klein:function(o,t,a){t*=Math.PI,o*=2*Math.PI,t=t*2;let s,e;t<Math.PI?(s=3*Math.cos(t)*(1+Math.sin(t))+2*(1-Math.cos(t)/2)*Math.cos(t)*Math.cos(o),e=-8*Math.sin(t)-2*(1-Math.cos(t)/2)*Math.sin(t)*Math.cos(o)):(s=3*Math.cos(t)*(1+Math.sin(t))+2*(1-Math.cos(t)/2)*Math.cos(o+Math.PI),e=-8*Math.sin(t));const n=-2*(1-Math.cos(t)/2)*Math.sin(o);a.set(s,n,e)},plane:function(o,t){return function(a,s,e){const n=a*o,c=0,i=s*t;e.set(n,c,i)}},mobius:function(o,t,a){o=o-.5;const s=2*Math.PI*t,e=2,n=Math.cos(s)*(e+o*Math.cos(s/2)),c=Math.sin(s)*(e+o*Math.cos(s/2)),i=o*Math.sin(s/2);a.set(n,c,i)},mobius3d:function(o,t,a){o*=Math.PI,t*=2*Math.PI,o=o*2;const s=o/2,e=2.25,n=.125,c=.65;let i=n*Math.cos(t)*Math.cos(s)-c*Math.sin(t)*Math.sin(s);const M=n*Math.cos(t)*Math.sin(s)+c*Math.sin(t)*Math.cos(s),d=(e+i)*Math.sin(o);i=(e+i)*Math.cos(o),a.set(i,d,M)}};y.TubeGeometry=class extends G{constructor(t,a=64,s=1,e=8,n=!1){const c=a+1,i=t.computeFrenetFrames(a,n),M=i.tangents,d=i.normals,h=i.binormals,m=new P;function u(x,w,l){w*=2*Math.PI;const r=Math.floor(x*(c-1));t.getPointAt(x,m);const b=d[r],p=h[r],z=-s*Math.cos(w),I=s*Math.sin(w);m.x+=z*b.x+I*p.x,m.y+=z*b.y+I*p.y,m.z+=z*b.z+I*p.z,l.copy(m)}super(u,a,e),this.tangents=M,this.normals=d,this.binormals=h,this.path=t,this.segments=a,this.radius=s,this.segmentsRadius=e,this.closed=n}};y.TorusKnotGeometry=class extends y.TubeGeometry{constructor(t=200,a=40,s=64,e=8,n=2,c=3){class i extends O{getPoint(u,x=new P){const w=x;u*=Math.PI*2;const l=.5,r=(1+l*Math.cos(c*u))*Math.cos(n*u),b=(1+l*Math.cos(c*u))*Math.sin(n*u),p=l*Math.sin(c*u);return w.set(r,b,p).multiplyScalar(t)}}const M=s,d=e,h=new i;super(h,M,a,d,!0,!1),this.radius=t,this.tube=a,this.segmentsT=s,this.segmentsR=e,this.p=n,this.q=c}};y.SphereGeometry=class extends G{constructor(t,a,s){function e(n,c,i){n*=Math.PI,c*=2*Math.PI;const M=t*Math.sin(n)*Math.cos(c),d=t*Math.sin(n)*Math.sin(c),h=t*Math.cos(n);i.set(M,d,h)}super(e,a,s)}};y.PlaneGeometry=class extends G{constructor(t,a,s,e){function n(c,i,M){const d=c*t,h=0,m=i*a;M.set(d,h,m)}super(n,s,e)}};new Q.GUI;const{innerWidth:V,innerHeight:E}=window,f=new B,T=new D(45,V/E,.1,1e3);T.position.set(40,40,40);T.lookAt(f.position);const Y=new R(6710886);f.add(Y);const L=new U(16777215);L.castShadow=!0;L.position.set(-50,80,50);f.add(L);const S=new X({color:30464,side:v}),Z=new G(y.klein,25,25),_=new g(Z,S);f.add(_);const $=new G(y.mobius,25,25),j=new g($,S);j.position.x=10;f.add(j);const q=new G(y.mobius3d,25,100),F=new g(q,S);F.position.x=18;f.add(F);const tt=new G(y.plane(10,10),10,10),H=new g(tt,S);H.position.x=22;f.add(H);function st(o=10){return(t,a,s)=>{const e=s||new P,n=Math.sin(t)*o,c=Math.sin(a/2)*2*o,i=(Math.sin(t*4*Math.PI)+Math.cos(a*2*Math.PI))*2.8;return e.set(n,i,c)}}const et=new G(st(20),25,25),W=new g(et,S);W.position.x=-30;f.add(W);const A=new J({antialias:!0});A.setSize(V,E);A.shadowMap.enabled=!0;document.body.appendChild(A.domElement);new N(T,A.domElement);const k=()=>{requestAnimationFrame(k),A.render(f,T)};k();
