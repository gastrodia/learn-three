import"./__uno-9d578755.js";import{_ as B,v as M,aD as E,Q as L,o as b,w as v,aE as x,aF as p,S as y,b as C,A as D,f as F,W as G}from"./three.module-b52a2031.js";import{O as S}from"./OrbitControls-2ca992f4.js";class Q{#t=0;#e=new B;constructor(n=0,s=0,t=""){this.num=n,this.range=s,this.particle=null,this.texture=t,this.texturesMaps=[],this.position=null,this.gen()}gen(){const{num:n,range:s,texture:t}=this,e=new M,o=new E({size:6,transparent:!0,opacity:.6,depthWrite:!1,vertexColors:!0,map:this.#e.load(t),blending:L}),i=[],a=[];for(let r=0;r<n;r++){const A=new b,h={h:0,s:0,l:0};A.getHSL(h),A.setHSL(h.h,h.s,h.l*Math.random()),a.push(A.r,A.g,A.b),i.push(p.randFloatSpread(s*2),p.randFloatSpread(s*2),p.randFloatSpread(s*2))}this.position=new v(i,3),e.setAttribute("position",this.position),e.setAttribute("color",new v(a,3)),this.particle=new x(e,o)}snowing(n=0,s=0){if(this.#t+=1,s>0){if(this.#t<s*60)return;this.#t=0}const{position:t,range:e}=this;for(let o=0;o<t.count;o++){let i=t.getX(o),a=t.getY(o),r=t.getZ(o);i-=n,a-=n,r-=n,i<-e&&(i=e),a<-e&&(a=e),r<-e&&(r=e),t.setX(o,i),t.setY(o,a),t.setZ(o,r)}t.needsUpdate=!0}}const U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABcVBMVEUAAAD////+/v4BAQHIyMghISECAgJ0dHR6enre3t4EBAQDAwPX19fi4uKmpqaAgIDQ0NA7OzsGBgYRERG1tbWVlZXV1dVzc3OCgoJmZmb39/cWFhZlZWU/Pz+xsbGFhYWOjo6KiopsbGx7e3uYmJhgYGCNjY0PDw8tLS0oKChbW1txcXEXFxfExMTS0tL9/f3s7OyoqKirq6va2tpNTU3t7e1/f38FBQWtra1MTExFRUWjo6MjIyNUVFTMzMzJycltbW3h4eEeHh5CQkLKysp+fn53d3cyMjLl5eX5+fm+vr4vLy/R0dELCwvY2NgJCQlfX19paWk5OTkAAAD///8BAQECAgIMDAwmJib+/v7f399qampXV1cODg79/f3Nzc3AwMBra2u6urqwsLAGBgb09PSKiooWFhYZGRnExMQ3NzfX19eampqQkJBkZGSOjo7o6OhoaGgjIyOcnJwEBAT6+vp5eXni4uJmZmYDAwNdXV0Lv2DMAAAAU3RSTlP+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/kc3SeAAAAFISURBVHhetZPFkuswFET72g4zDDMzMzPje5KDMMzM8PXj8caJ7UxWOVp0laoXqqN7URimkj/B1FaeLEJBBmRdQXuU/Jv1DUwhoj0yG5sN8PYANRUwx1JahepyYKTTxIPoUuLugZX4WPLt1OhBRus50CYxyZ+iLuCyDBGdh+BxLVB3VklcAtY+miDrClY26m70cBJ4GM3+NEQTDy1EcaIMkdvoIdreEbt4fuRcEOKcH6Rjlu5ojoclcoR7iQQFoj4i6qcBZCGqMag01DM0rF7meHBaGbtKJDhRhvMX9uoc+9LPw/f4BCa5QHxq2jNj/E2L9AlgltMcn0dw4clQWAwxK7wlhwKOlgGcrEA2eli1I7UOthFyQQ6YzMP1DWO3m2D3yZyh1bBvAds+YGd3Dxo6F459AP/+Q0M3cu+Bv/dCLP5eGLPw8hbkB8nyeaUUhyruAAAAAElFTkSuQmCC",{innerWidth:m,innerHeight:g}=window,c=new y,d=new C(45,m/g,.1,1e3);d.position.set(0,0,160);d.lookAt(c.position);const P=new D(6710886);c.add(P);const u=new F(16777215);u.castShadow=!0;u.position.set(-50,80,50);c.add(u);const w=new Q(1e4,100,U);c.add(w.particle);const l=new G({antialias:!0});l.setSize(m,g);l.shadowMap.enabled=!0;document.body.appendChild(l.domElement);new S(d,l.domElement);const f=()=>{w.snowing(.3,.03),requestAnimationFrame(f),l.render(c,d)};f();
